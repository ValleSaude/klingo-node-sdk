{"version":3,"sources":["../../src/api/api.js"],"names":["axios","require","KlingoError","validate","requestHandler","responseErrorHandler","interceptors","request","use","url","includes","authenticated","headers","TypeError","undefined","response","error"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,WAAd;;eACwBA,OAAO,CAAC,uBAAD,C;IAAvBC,W,YAAAA,W;;AACR,IAAMC,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;;gBAC2BA,OAAO,CAAC,wCAAD,C;IAA1BG,c,aAAAA,c;;gBACyBH,OAAO,CAAC,0CAAD,C;IAAhCI,oB,aAAAA,oB;;AAERL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAAAD,OAAO,EAAI;AACT,MACE,CAACA,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,UAArB,CAAD,IACA,CAACH,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,OAArB,CADD,IAEA,CAACH,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,MAArB,CAFD,IAGA,CAACP,QAAQ,CAACQ,aAAT,CAAuBJ,OAAO,CAACK,OAA/B,CAJH,EAKE;AACA,UAAM,IAAIC,SAAJ,CAAc,0CAAd,CAAN;AACD;;AACD,SAAON,OAAP;AACD,CAXH,EAYEO,SAZF;AAeAd,KAAK,CAACM,YAAN,CAAmBS,QAAnB,CAA4BP,GAA5B,CACEM,SADF,EAEE,UAAAE,KAAK,EAAI;AACP,MAAI,EAAEA,KAAK,YAAYH,SAAnB,CAAJ,EAAmC;AACjC,UAAM,IAAIX,WAAJ,CAAgBc,KAAhB,CAAN;AACD;;AACD,QAAMA,KAAN;AACD,CAPH","sourcesContent":["const axios = require('axios').default;\r\nconst { KlingoError } = require('../error/klingo-error');\r\nconst validate = require('../validate');\r\nconst { requestHandler } = require('./interceptors/verify-auth.interceptor');\r\nconst { responseErrorHandler } = require('./interceptors/handler-error.interceptor');\r\n\r\naxios.interceptors.request.use(\r\n  request => {\r\n    if (\r\n      !request.url.includes('register') &&\r\n      !request.url.includes('login') &&\r\n      !request.url.includes('live') &&\r\n      !validate.authenticated(request.headers)\r\n    ) {\r\n      throw new TypeError(\"Verifique as configurações da requisição\");\r\n    }\r\n    return request;\r\n  },\r\n  undefined\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  undefined,\r\n  error => {\r\n    if (!(error instanceof TypeError)) {\r\n      throw new KlingoError(error);\r\n    }\r\n    throw error;\r\n  }\r\n);\r\n\r\n"],"file":"api.js"}