{"version":3,"sources":["../../src/api/api.js"],"names":["axios","require","KlingoError","validate","requestHandler","responseErrorHandler","interceptors","request","use","url","includes","authenticated","headers","TypeError","undefined","response","error"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,WAAd;;eACwBA,OAAO,CAAC,uBAAD,C;IAAvBC,W,YAAAA,W;;AACR,IAAMC,QAAQ,GAAGF,OAAO,CAAC,aAAD,CAAxB;;gBAC2BA,OAAO,CAAC,wCAAD,C;IAA1BG,c,aAAAA,c;;gBAGJH,OAAO,CAAC,0CAAD,C;IADTI,oB,aAAAA,oB;;AAGFL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACD,OAAD,EAAa;AAC1C,MACE,CAACA,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,UAArB,CAAD,IACA,CAACH,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,OAArB,CADD,IAEA,CAACH,OAAO,CAACE,GAAR,CAAYC,QAAZ,CAAqB,MAArB,CAFD,IAGA,CAACP,QAAQ,CAACQ,aAAT,CAAuBJ,OAAO,CAACK,OAA/B,CAJH,EAKE;AACA,UAAM,IAAIC,SAAJ,CAAc,0CAAd,CAAN;AACD;;AACD,SAAON,OAAP;AACD,CAVD,EAUGO,SAVH;AAYAd,KAAK,CAACM,YAAN,CAAmBS,QAAnB,CAA4BP,GAA5B,CAAgCM,SAAhC,EAA2C,UAACE,KAAD,EAAW;AACpD,MAAI,EAAEA,KAAK,YAAYH,SAAnB,CAAJ,EAAmC;AACjC,UAAM,IAAIX,WAAJ,CAAgBc,KAAhB,CAAN;AACD;;AACD,QAAMA,KAAN;AACD,CALD","sourcesContent":["const axios = require('axios').default;\nconst { KlingoError } = require('../error/klingo-error');\nconst validate = require('../validate');\nconst { requestHandler } = require('./interceptors/verify-auth.interceptor');\nconst {\n  responseErrorHandler\n} = require('./interceptors/handler-error.interceptor');\n\naxios.interceptors.request.use((request) => {\n  if (\n    !request.url.includes('register') &&\n    !request.url.includes('login') &&\n    !request.url.includes('live') &&\n    !validate.authenticated(request.headers)\n  ) {\n    throw new TypeError('Verifique as configurações da requisição');\n  }\n  return request;\n}, undefined);\n\naxios.interceptors.response.use(undefined, (error) => {\n  if (!(error instanceof TypeError)) {\n    throw new KlingoError(error);\n  }\n  throw error;\n});\n"],"file":"api.js"}