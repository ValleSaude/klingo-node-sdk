{"version":3,"sources":["../../src/resources/external.js"],"names":["config","require","moment","axios","External","client","options","body","headers","endpoint","base","external","register","post","response","data","authenticate","authentication","expires","add","expires_in","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAAP,WAAd;;IAEMG,Q;AACJ,oBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;AAC3B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,OAAf;AACD;;;;;oGAED,iBAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,OADR,GACkB,KAAKF,OAAL,CAAaE,OAD/B;AAEQC,gBAAAA,QAFR,aAEsB,KAAKH,OAAL,CAAaI,IAAb,WAFtB,cAEmDV,MAAM,CAACW,QAAP,CAAgBC,QAFnE;AAAA;AAAA,uBAGyBT,KAAK,CAACU,IAAN,CAAWJ,QAAX,EAAqBF,IAArB,EAA2B;AAAEC,kBAAAA,OAAO,EAAPA;AAAF,iBAA3B,CAHzB;;AAAA;AAGQM,gBAAAA,QAHR;AAAA,iDAISA,QAAQ,CAACC,IAJlB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;wGAOA,kBAAmBR,IAAnB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,OADR,GACkB,KAAKF,OAAL,CAAaE,OAD/B;AAEQC,gBAAAA,QAFR,aAEsB,KAAKH,OAAL,CAAaI,IAAb,WAFtB,cAEmDV,MAAM,CAACW,QAAP,CAAgBK,YAFnE;AAAA;AAAA,uBAGyBb,KAAK,CAACU,IAAN,CAAWJ,QAAX,EAAqBF,IAArB,EAA2B;AAAEC,kBAAAA,OAAO,EAAPA;AAAF,iBAA3B,CAHzB;;AAAA;AAAA;AAGUO,gBAAAA,IAHV,qBAGUA,IAHV;AAIE,qBAAKT,OAAL,CAAaW,cAAb,mCACKF,IADL;AAEEG,kBAAAA,OAAO,EAAEhB,MAAM,GAAGiB,GAAT,CAAaJ,IAAI,CAACK,UAAlB,EAA8B,SAA9B;AAFX;AAJF,kDAQS,KAAKd,OAAL,CAAaW,cARtB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;AAYFI,MAAM,CAACC,OAAP,GAAiB;AAAElB,EAAAA,QAAQ,EAARA;AAAF,CAAjB","sourcesContent":["const config = require('../config');\nconst moment = require('moment');\nconst axios = require('axios').default;\n\nclass External {\n  constructor(client, options) {\n    this.client = client;\n    this.options = options;\n  }\n\n  async register(body) {\n    const headers = this.options.headers;\n    const endpoint = `${this.options.base.default}/${config.external.register}`;\n    const response = await axios.post(endpoint, body, { headers });\n    return response.data;\n  }\n\n  async authenticate(body) {\n    const headers = this.options.headers;\n    const endpoint = `${this.options.base.default}/${config.external.authenticate}`;\n    const { data } = await axios.post(endpoint, body, { headers });\n    this.options.authentication = {\n      ...data,\n      expires: moment().add(data.expires_in, 'seconds')\n    };\n    return this.options.authentication;\n  }\n}\n\nmodule.exports = { External };\n"],"file":"external.js"}