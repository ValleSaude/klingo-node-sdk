{"version":3,"sources":["../../src/resources/external.js"],"names":["config","require","moment","axios","External","client","options","body","headers","endpoint","base","external","register","post","response","data","authenticate","authentication","expires","add","expires_in","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAAP,WAAd;;IAEMG,Q;AACJ,oBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;AAC3B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,OAAf;AACD;;;;;qHAEcC,I;;;;;;AACPC,gBAAAA,O,GAAU,KAAKF,OAAL,CAAaE,O;AACvBC,gBAAAA,Q,aAAc,KAAKH,OAAL,CAAaI,IAAb,W,cAA6BV,MAAM,CAACW,QAAP,CAAgBC,Q;;uBAC1CT,KAAK,CAACU,IAAN,CAAWJ,QAAX,EAAqBF,IAArB,EAA2B;AAAEC,kBAAAA,OAAO,EAAPA;AAAF,iBAA3B,C;;;AAAjBM,gBAAAA,Q;iDACCA,QAAQ,CAACC,I;;;;;;;;;;;;;;;;;;;0HAGCR,I;;;;;;;AACXC,gBAAAA,O,GAAU,KAAKF,OAAL,CAAaE,O;AACvBC,gBAAAA,Q,aAAc,KAAKH,OAAL,CAAaI,IAAb,W,cAA6BV,MAAM,CAACW,QAAP,CAAgBK,Y;;uBAC1Cb,KAAK,CAACU,IAAN,CAAWJ,QAAX,EAAqBF,IAArB,EAA2B;AAAEC,kBAAAA,OAAO,EAAPA;AAAF,iBAA3B,C;;;;AAAfO,gBAAAA,I,qBAAAA,I;AACR,qBAAKT,OAAL,CAAaW,cAAb,mCACKF,IADL;AAEEG,kBAAAA,OAAO,EAAEhB,MAAM,GAAGiB,GAAT,CAAaJ,IAAI,CAACK,UAAlB,EAA8B,SAA9B;AAFX;kDAIO,KAAKd,OAAL,CAAaW,c;;;;;;;;;;;;;;;;;;;;AAIxBI,MAAM,CAACC,OAAP,GAAiB;AAAElB,EAAAA,QAAQ,EAARA;AAAF,CAAjB","sourcesContent":["const config = require('../config');\r\nconst moment = require('moment');\r\nconst axios = require('axios').default;\r\n\r\nclass External {\r\n  constructor(client, options) {\r\n    this.client = client;\r\n    this.options = options;\r\n  }\r\n\r\n  async register(body) {\r\n    const headers = this.options.headers;\r\n    const endpoint = `${this.options.base.default}/${config.external.register}`;\r\n    const response = await axios.post(endpoint, body, { headers });\r\n    return response.data;\r\n  }\r\n\r\n  async authenticate(body) {\r\n    const headers = this.options.headers;\r\n    const endpoint = `${this.options.base.default}/${config.external.authenticate}`;\r\n    const { data } = await axios.post(endpoint, body, { headers });\r\n    this.options.authentication = {\r\n      ...data,\r\n      expires: moment().add(data.expires_in, 'seconds')\r\n    };\r\n    return this.options.authentication;\r\n  }\r\n}\r\n\r\nmodule.exports = { External };\r\n"],"file":"external.js"}